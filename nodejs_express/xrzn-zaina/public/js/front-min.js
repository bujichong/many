jQuery.cookie=function(t,n,e){var r,i,u,s,a,o,l,c,d;if("undefined"==typeof n){if(o=null,document.cookie&&""!=document.cookie)for(l=document.cookie.split(";"),c=0;c<l.length;c++)if(d=jQuery.trim(l[c]),d.substring(0,t.length+1)==t+"="){o=decodeURIComponent(d.substring(t.length+1));break}return o}e=e||{},null===n&&(n="",e.expires=-1),r="",e.expires&&("number"==typeof e.expires||e.expires.toUTCString)&&("number"==typeof e.expires?(i=new Date,i.setTime(i.getTime()+864e5*e.expires)):i=e.expires,r="; expires="+i.toUTCString()),u=e.path?"; path="+e.path:"",s=e.domain?"; domain="+e.domain:"",a=e.secure?"; secure":"",document.cookie=[t,"=",encodeURIComponent(n),r,u,s,a].join("")},$.fn.hoverClass=function(t,n,e){var r=this;return r.each(function(i){r.eq(i).mouseenter(function(){$(this).addClass(t),n&&n(this)}),r.eq(i).mouseleave(function(){$(this).removeClass(t),e&&e(this)})}),r},$.fn.textFocus=function(t){var n,e;return t=$.extend({val:null,focusCls:"txt-focus",changeCls:"txt-change",keyback:function(){}},t||{}),n=t.focusCls,e=t.changeCls,this.each(function(){var r=$(this),i=null==t.val?$(r).val():t.val;r.val(i),r.focus(function(){r.val()==i&&r.val(""),n&&r.addClass(n)}),r.blur(function(){""==r.val()&&r.val(i),n&&r.removeClass(n)}),e&&r.keyup(function(){r.val()!=i&&""!=r.val()?r.addClass(e):r.removeClass(e),t.keyback(r)})}),this},!function(){$.fn.serializeObject=function(){var t={},n=this.serializeArray();return $.each(n,function(){t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t},$.fn.soValidate=function(o){var _self,$inputs,$submitBtn,$rules,vv;return o=$.extend({attr:"validate",quickAttr:"cls",errorCls:"txt-err",msgCls:"em-errMes",msgPos:null,inputPar:".p-item",errDiyAttr:"errorDiy",trim:!0,inInputs:null,exInputs:null,validate:!0,submitBtn:null,submit:function(t){t.submit()},fail:function(){}},o||{}),_self=$(this),$rules=$.soValidate.rules,vv={validate:function(t){o=$.extend(o,t||{}),$inputs&&$inputs.unbind("blur.validate"),$submitBtn&&$submitBtn.unbind("click.validate"),$inputs=_self.find(":input").add(o.inInputs).not(o.exInputs).not(":submit"),$submitBtn=o.submitBtn?$(o.submitBtn):_self.find("input:submit"),o.validate&&($submitBtn.bind("click.validate",function(t){t.preventDefault(),vv._submitValidate()}),$inputs.bind("blur.validate",function(){vv._blurValidate(this)}))},_blurValidate:function(t){vv._inputCheck(t)},_submitValidate:function(){var t=!0,n=[];$inputs.each(function(){var e=vv._inputCheck(this);!e.state&&n.push(this),t=t&&e.state}),t?o.submit(_self):o.fail(_self,n)},_inputCheck:function(obj){function eachValid(t,n,e,i,u){var s=!0;return"required"==e&&(s=r.required.rule(n)),"easydrop"==e&&(s=r[e].rule(n,i,t)),r[e]&&n&&(s=r[e].rule(n,i,t)),s?(t.removeClass(tE.errorCls),vv._byTip(t,!1,tE.msgCls,tE.inputPar,tE.msgPos)):(u=u||r[e].msg(n,i),t.addClass(tE.errorCls),vv._byTip(t,u,tE.msgCls,tE.inputPar,tE.msgPos)),s}var val,attr,errDiyAttr,quickAttr,r,state,tE,errDiyO,quickArr,attrO,$o=$(obj);if(o.trim&&$o.val($.trim($o.val())),val=$o.val(),attr=$o.attr(o.attr),errDiyAttr=$o.attr(o.errDiyAttr),quickAttr=$o.attr(o.quickAttr),r=$rules,state=!0,tE={errorCls:o.errorCls,msgPos:o.msgPos,msgCls:o.msgCls,inputPar:o.inputPar},errDiyAttr&&(errDiyO=eval("("+errDiyAttr+")"),$.extend(tE,errDiyO||{})),quickAttr&&(quickArr=quickAttr.split(" "),$.each(quickArr,function(t,n){var e,r;return vArr=n.split(/\['|\["|"\]|'\]|\[|\]/),e=vArr[0],r=vArr[1]?vArr[1]:null,state=eachValid($o,val,e,null,r),state?void 0:!1}),!state))return{state:!1};if(attr){try{attrO=eval("("+attr+")")}catch(e){return window.console?console.log(attr+" 验证格式不正确，必须为JSON！"):alert(attr+" 验证格式不正确，必须为JSON！"),{state:!1}}if($.each(attrO,function(t,n){var e=t,r=null,i=null;return"string"==typeof n&&(i=n),"object"==typeof n&&(n.msg&&(i=n.msg),n.opt&&(r=n.opt)),state=eachValid($o,val,e,r,i),state?void 0:!1}),!state)return{state:!1}}return{state:!0}},_byTip:function(t,n,e,r,i){var u=i?$(i):$(t).parents(r)?$(t).parents(r):$(t).parent();n?(u.find("."+e).length<1&&u.append('<em class="'+e+'">'+n+"</em>"),u.find("."+e).html(n)):u.find("."+e).remove()},getInputs:function(){return $inputs},addInputs:function(t){return $inputs.unbind("blur.validate"),$inputs=$inputs.add(t),$inputs.bind("blur.validate",function(){vv._blurValidate(this)}),$inputs},removeInputs:function(t){return $inputs.unbind("blur.validate"),$inputs=$inputs.not(t),$inputs.bind("blur.validate",function(){vv._blurValidate(this)}),$inputs},addArea:function(t){return $inputs.unbind("blur.validate"),$inputs=$inputs.add(t+" :input"),$inputs.bind("blur.validate",function(){vv._blurValidate(this)}),$inputs},clearArea:function(t){return $inputs.unbind("blur.validate"),$inputs=$inputs.not(t+" :input"),$(t+" :input").removeClass(o.errorCls),$(t).find("."+o.msgCls).remove(),$inputs.bind("blur.validate",function(){vv._blurValidate(this)}),$inputs},destroy:function(){$inputs&&$inputs.unbind("blur.validate"),$submitBtn&&$submitBtn.unbind("click.validate"),_self.find(":input").removeClass(o.errorCls),_self.find("."+o.msgCls).remove()}},vv.validate(),{validate:vv.validate,getInputs:vv.getInputs,addInputs:vv.addInputs,removeInputs:vv.removeInputs,addArea:vv.addArea,clearArea:vv.clearArea,destroy:vv.destroy}},$.soValidate={rules:{},addRex:function(t){$.extend(this.rules,t)}},$.soValidate.addRex({required:{rule:function(t){return""!=t},msg:function(){return"请填写必填字段！"}},baseChar:{rule:function(t){return/^[\u0391-\uFFE5\w]+$/.test(t)},msg:function(){return"只能用中文、英文字母、数字和下划线"}},number:{rule:function(t){return/^[\d]+([\.][\d]+){0,1}$/.test(t)},msg:function(){return"请填写正确的数字！"}},email:{rule:function(t){return/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(t)},msg:function(){return"请填写正确的电子邮箱！"}},phone:{rule:function(t){return/^(0\d{2,3})-(\d{7,8})(-(\d{2,}))?$/.test(t)},msg:function(){return"请填写正确的电话号码！如：010-62392951"}},mobile:{rule:function(t){return/^((1)+\d{10})$/.test(t)},msg:function(){return"请填写正确的手机号！"}},equalTo:{rule:function(t,n){return t==$(n).val()},msg:function(){return"两次填写的值不一致，请重新填写！"}},zipCode:{rule:function(t){return/^[0-9]{6}$/.test(t)},msg:function(){return"请填写正确的邮政编码！"}},len:{rule:function(t,n){return t.length>n[0]&&t.length<n[1]},msg:function(t,n){return"请填写一个长度大于"+n[0]+"小于"+n[1]+"的字符"}},max:{rule:function(t,n){return n>t},msg:function(t,n){return"请填写一个小于"+n+"的数字"}},min:{rule:function(t,n){return t>n},msg:function(t,n){return"请填写一个大于"+n+"的数字"}},easydrop:{rule:function(t,n,e){var r=e.siblings(".combo").find(".combo-value").val();return r=$.trim(r),""===r?!1:!0},msg:function(){return"请选择..."}},remote:{rule:function(t,n){var e,r,i={};return i[n.key]=t,e=$.extend(i,n.data||{}),r=!1,$.ajax({url:n.url,data:e,async:!1,success:function(t){r=t.success},error:function(){alert("向服务器请求验证失败！")}}),r},msg:function(){return"您的填写不正确！"}}}),$.fn.groupRequired=function(t){var n,e={style:"and",type:"required",attr:"class"};return"string"==typeof t?e.style=t:$.extend(e,t||{}),n=$(this),"and"==e.style&&n.blur(function(){""!=this.value?n.addClass(e.type):n.removeClass(e.type)}),"or"==e.style&&(n.addClass(e.type),n.blur(function(){var t=!1;n.each(function(){return""!=$(this).val()?(t=!0,!1):void 0}),t?n.removeClass(e.type):n.addClass(e.type)})),n}}(jQuery);var formE={login:function(){var t=$("#r").val();$.post("/login.html",{r:t,username:$("#username").val(),password:md5((t+md5($("#password").val().toUpperCase())).toUpperCase())},function(t){t.state?location.href="/":console.log(t.msg)},"JSON")},reg:function(){$.post("/reg.html",{r:$("#r").val(),username:$("#username").val(),password:md5($("#password").val())},function(t){t.state||console.log(t.msg)},"JSON")},contcat:function(){$.post("/contcat.html",{username:$("#username").val(),phone:$("#phone").val(),msg:$("#message").val()},function(t){t.state||console.log(t.msg)},"JSON")}};$(function(){function t(){var t=$(window).height();t>860&&$(".appCont").height(t-161)}function n(){$(window).height()>$("body").height()?$(".footer").addClass("fix-footer"):$(".footer").removeClass("fix-footer")}$(".form-validate").length&&($(".form-validate .txt").textFocus().focus(function(){$(this).siblings(".lab-df").hide()}).blur(function(){""==$(this).val()&&$(this).siblings(".lab-df").show()}),$(".lab-df").click(function(){$(this).hide(),$(this).prev(".txt").focus()}),$(".form-validate").soValidate({submit:function(t){var n=t.attr("rel");formE[n](t)},fail:function(t,n){var e=$(n[0]);e.focus()}})),$(".appCont").length&&(t(),$(window).resize(function(){t()}),$(".appCont .phone").animate({opacity:1,marginLeft:"-80px",marginTop:"-140px"},2e3)),0==$("body#index").length&&($(window).resize(function(){n()}),n())});